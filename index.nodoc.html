<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0">
<title>Peity &bull; progressive &lt;canvas&gt; pie charts</title>
<link href="docs/style.css" rel="stylesheet">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.js"></script>
<script src="jquery.peity.js"></script>
<script>
$(function() {
  // Just the defaults.
  $("span.pie").peity("pie")
  $(".line").peity("line", {width:256, height:32, lineWidth:2})
	
  $(".bar").peity("bar", { width : 256, height : 128, spacing : 4, focusColor : "#000", focusWidth: 2, fontStyle: "12pt Trebuchet MS" })

  $(".bar-colors-1").peity("bar", {
    colors: ["red", "green", "blue"]
  })

  $(".bar-colors-2").peity("bar", {
    colors: function(value) {
      return value > 0 ? "green" : "red"
    }
  })

  $(".bar-colors-3").peity("bar", {
    colors: function(_, i, all) {
      var g = parseInt((i / all.length) * 255)
      return "rgb(255, " + g + ", 0)"
    }
  })

  $(".pie-colors-1").peity("pie", {
    colors: ["cyan", "magenta", "yellow", "black"],
  })

  $(".pie-colors-2").peity("pie", {
    colors: function(_, i, all) {
      var g = parseInt((i / all.length) * 255)
      return "rgb(255, " + g + ", 0)"
    }
  })

  // Using data attributes
  $(".pie span").peity("pie", {lineWidth : 1, focusWidth : 3});

  // Simple evented example.
  $("select").change(function() {
    var text = $(this).val() + "/" + 5

    $(this)
      .siblings("span.graph")
      .text(text)
      .change()

    $("#notice").text("Chart updated: " + text)
  }).change()

  $("span.graph").peity("pie")

  // Updating charts.
  var updatingChart = $(".updating-chart").peity("line", { width: 64 })

  setInterval(function() {
    var random = Math.round(Math.random() * 10)
    var values = updatingChart.text().split(",")
    values.shift()
    values.push(random)

    updatingChart
      .text(values.join(","))
      .change()
  }, 1000)
	
	$(".multiline").peity("multiline", {width:256, height:32})
})
</script>
</head>
<body>
  <p>
    <span class="pie">1/5</span>
    <span class="pie">226/360</span>
    <span class="pie">0.52/1.561</span>
    <span class="pie">1,4</span>
    <span class="pie">226,134</span>
    <span class="pie">0.52,1.041</span>
    <span class="pie">1,2,3,2,2</span>
  </p>

  <p>
    <span class="line">5,3,9,6,5,9,7,3,5,2</span>
    <span class="line">5,3,2,-1,-3,-2,2,3,5,2</span>
    <span class="line">0,-3,-6,-4,-5,-4,-7,-3,-5,-2</span>
		<span class="multiline">0,3,6,4,-5,4,-7,3,-5,-2|-5,-4,-7,-3,5,-2,0,3,6,-4</span>
  </p>

  <p>
    <span class="bar">5,3,9,6,5,9,7,3,5,2</span>
    <span class="bar">5,3,2,-1,-3,-2,2,3,5,2</span>
    <span class="bar">0,-3,-6,-4,-5,-4,-7,-3,-5,-2</span>
  </p>

  <p>
    <span class="bar-colors-1">5,3,9,6,5,9,7,3,5,2</span>
    <span class="bar-colors-2">5,3,2,-1,-3,-2,2,3,5,2</span>
    <span class="bar-colors-3">0,-3,-6,-4,-5,-4,-7,-3,-5,-2</span>
    <span class="pie-colors-1">4,7,6,5</span>
    <span class="pie-colors-2">5,3,9,6,5</span>
  </p>

  <p>
    <span class="updating-chart">5,3,9,6,5,9,7,3,5,2,5,3,9,6,5,9,7,3,5,2</span>
  </p>

  <p class="pie">
    <span data-colors='["red", "#eeeeee"]'    data-diameter="40">1/7</span>
    <span data-colors='["orange", "#eeeeee"]' data-diameter="36">2/7</span>
    <span data-colors='["yellow", "#eeeeee"]' data-diameter="32">3/7</span>
    <span data-colors='["green", "#eeeeee"]'  data-diameter="28">4/7</span>
    <span data-colors='["blue", "#eeeeee"]'   data-diameter="24">5/7</span>
    <span data-colors='["indigo", "#eeeeee"]' data-diameter="20">6/7</span>
    <span data-colors='["violet", "#eeeeee"]' data-diameter="16">7/7</span>
  </p>

  <p>
		<span class="graph"></span>
		<select>
			<option value="0">0</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4" selected>4</option>
			<option value="5">5</option>
		</select>
	</p>
	<p>
		<span class="graph"></span>
		<select>
			<option value="0">0</option>
			<option value="1" selected>1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
		</select>
	</p>
	<p>
		<span class="graph"></span>
		<select>
			<option value="0">0</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3" selected>3</option>
			<option value="4">4</option>
			<option value="5">5</option>
		</select>
	</p>
</body>
</html>
